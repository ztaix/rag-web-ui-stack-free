<div align="center">
  <img src="./docs/images/github-cover-new.png" alt="RAG Web UI">
  <br />
  <p>
    <strong>åŸºäº RAG (Retrieval-Augmented Generation) çš„çŸ¥è¯†åº“ç®¡ç†</strong>
  </p>

  <p>
    <a href="https://github.com/rag-web-ui/rag-web-ui/blob/main/LICENSE"><img src="https://img.shields.io/github/license/rag-web-ui/rag-web-ui" alt="License"></a>
    <a href="#"><img src="https://img.shields.io/badge/python-3.9+-blue.svg" alt="Python"></a>
    <a href="#"><img src="https://img.shields.io/badge/node-%3E%3D18-green.svg" alt="Node"></a>
    <a href="#"><img src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg" alt="PRs Welcome"></a>
  </p>

  <p>
    <a href="#ç‰¹æ€§">ç‰¹æ€§</a> â€¢
    <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
    <a href="#éƒ¨ç½²æŒ‡å—">éƒ¨ç½²æŒ‡å—</a> â€¢
    <a href="#æŠ€æœ¯æ¶æ„">æŠ€æœ¯æ¶æ„</a> â€¢
    <a href="#å¼€å‘æŒ‡å—">å¼€å‘æŒ‡å—</a> â€¢
    <a href="#è´¡çŒ®æŒ‡å—">è´¡çŒ®æŒ‡å—</a>
  </p>

  <h4>
    <a href="README.md">English</a> |
    <span>ç®€ä½“ä¸­æ–‡</span>
  </h4>
</div>

## ğŸ“– ç®€ä»‹

RAG Web UI æ˜¯ä¸€ä¸ªåŸºäº RAG (Retrieval-Augmented Generation) æŠ€æœ¯çš„æ™ºèƒ½å¯¹è¯ç³»ç»Ÿï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æ„å»ºåŸºäºè‡ªæœ‰çŸ¥è¯†åº“çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿã€‚é€šè¿‡ç»“åˆæ–‡æ¡£æ£€ç´¢å’Œå¤§è¯­è¨€æ¨¡å‹ï¼Œå®ç°äº†å‡†ç¡®ã€å¯é çš„çŸ¥è¯†é—®ç­”æœåŠ¡ã€‚

åŒæ—¶æä¾› OpenAPI æ¥å£ï¼Œæ–¹ä¾¿ç”¨æˆ·é€šè¿‡ API è°ƒç”¨çŸ¥è¯†åº“ã€‚

ä½ å¯ä»¥é€šè¿‡[RAG æ•™ç¨‹](./docs/tutorial/README.md)æ¥äº†è§£æ•´ä¸ªé¡¹ç›®çš„å®ç°æµç¨‹ã€‚

## âœ¨ ç‰¹æ€§
- ğŸ“š **æ™ºèƒ½æ–‡æ¡£ç®¡ç†**
  - æ”¯æŒå¤šç§æ–‡æ¡£æ ¼å¼ (PDFã€DOCXã€Markdownã€Text)
  - æ–‡æ¡£è‡ªåŠ¨åˆ†å—å’Œå‘é‡åŒ–
  - æ”¯æŒå¼‚æ­¥æ–‡æ¡£ã€å¢é‡å¤„ç†

- ğŸ¤– **å…ˆè¿›çš„å¯¹è¯å¼•æ“**
  - åŸºäº RAG çš„ç²¾å‡†æ£€ç´¢å’Œç”Ÿæˆ
  - æ”¯æŒä¸Šä¸‹æ–‡å¤šè½®å¯¹è¯
  - æ”¯æŒå¯¹è¯ä¸­å¼•ç”¨è§’æ ‡æŸ¥çœ‹åŸæ–‡

- ğŸ¯ **åˆç†æ¶æ„**
  - å‰åç«¯åˆ†ç¦»è®¾è®¡
  - åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨
  - é«˜æ€§èƒ½å‘é‡æ•°æ®åº“: æ”¯æŒ ChromaDBã€Qdrantï¼Œé€šè¿‡ Factory æ¨¡å¼ï¼Œå¯ä»¥æ–¹ä¾¿çš„åˆ‡æ¢å‘é‡æ•°æ®åº“

## ğŸ–¼ï¸ æˆªå›¾

<div align="center">
  <img src="./docs/images/screenshot1.png" alt="Knowledge Base Management" width="800">
  <p><em>çŸ¥è¯†åº“ç®¡ç† Dashboard</em></p>
  
  <img src="./docs/images/screenshot2.png" alt="Chat Interface" width="800">
  <p><em>æ–‡æ¡£å¤„ç† Dashboard</em></p>
  
  <img src="./docs/images/screenshot3.png" alt="Document Processing" width="800">
  <p><em>æ–‡æ¡£åˆ—è¡¨</em></p>
  
  <img src="./docs/images/screenshot4.png" alt="System Settings" width="800">
  <p><em>å¸¦å¼•ç”¨åºå·çš„æ™ºèƒ½å¯¹è¯ç•Œé¢</em></p>
  
  <img src="./docs/images/screenshot5.png" alt="Analytics Dashboard" width="800">
  <p><em>API Key ç®¡ç†</em></p>

  <img src="./docs/images/screenshot6.png" alt="Analytics Dashboard" width="800">
  <p><em>API å‚è€ƒ</em></p>
</div>

 
## é¡¹ç›®æµç¨‹å›¾

```mermaid
graph TB
    %% Role Definitions
    client["Caller/User"]
    open_api["Open API"]
    
    subgraph import_process["Document Ingestion Process"]
        direction TB
        %% File Storage and Document Processing Flow
        docs["Document Input<br/>(PDF/MD/TXT/DOCX)"]
        job_id["Return Job ID"]
        
        nfs["NFS"]

        subgraph async_process["Asynchronous Document Processing"]
            direction TB
            preprocess["Document Preprocessing<br/>(Text Extraction/Cleaning)"]
            split["Text Splitting<br/>(Segmentation/Overlap)"]
            
            subgraph embedding_process["Embedding Service"]
                direction LR
                embedding_api["Embedding API"] --> embedding_server["Embedding Server"]
            end
            
            store[(Vector Database)]
            
            %% Internal Flow of Asynchronous Processing
            preprocess --> split
            split --> embedding_api
            embedding_server --> store
        end
        
        subgraph job_query["Job Status Query"]
            direction TB
            job_status["Job Status<br/>(Processing/Completed/Failed)"]
        end
    end
    
    %% Query Service Flow  
    subgraph query_process["Query Service"]
        direction LR
        user_history["User History"] --> query["User Query<br/>(Based on User History)"]
        query --> query_embed["Query Embedding"]
        query_embed --> retrieve["Vector Retrieval"]
        retrieve --> rerank["Re-ranking<br/>(Cross-Encoder)"]
        rerank --> context["Context Assembly"]
        context --> llm["LLM Generation"]
        llm --> response["Final Response"]
        query -.-> rerank
    end
    
    %% Main Flow Connections
    client --> |"1.Upload Document"| docs
    docs --> |"2.Generate"| job_id
    docs --> |"3a.Trigger"| async_process
    job_id --> |"3b.Return"| client
    docs --> nfs
    nfs --> preprocess

    %% Open API Retrieval Flow
    open_api --> |"Retrieve Context"| retrieval_service["Retrieval Service"]
    retrieval_service --> |"Access"| store
    retrieval_service --> |"Return Context"| open_api

    %% Status Query Flow
    client --> |"4.Poll"| job_status
    job_status --> |"5.Return Progress"| client
    
    %% Database connects to Query Service
    store --> retrieve

    %% Style Definitions (Adjusted to match GitHub theme colors)
    classDef process fill:#d1ecf1,stroke:#0077b6,stroke-width:1px
    classDef database fill:#e2eafc,stroke:#003566,stroke-width:1px
    classDef input fill:#caf0f8,stroke:#0077b6,stroke-width:1px
    classDef output fill:#ffc8dd,stroke:#d00000,stroke-width:1px
    classDef rerank fill:#cdb4db,stroke:#5a189a,stroke-width:1px
    classDef async fill:#f8edeb,stroke:#7f5539,stroke-width:1px,stroke-dasharray: 5 5
    classDef actor fill:#fefae0,stroke:#606c38,stroke-width:1px
    classDef jobQuery fill:#ffedd8,stroke:#ca6702,stroke-width:1px
    classDef queryProcess fill:#d8f3dc,stroke:#40916c,stroke-width:1px
    classDef embeddingService fill:#ffe5d9,stroke:#9d0208,stroke-width:1px
    classDef importProcess fill:#e5e5e5,stroke:#495057,stroke-width:1px

    %% Applying classes to nodes
    class docs,query,retrieval_service input
    class preprocess,split,query_embed,retrieve,context,llm process
    class store,nfs database
    class response,job_id,job_status output
    class rerank rerank
    class async_process async
    class client,open_api actor
    class job_query jobQuery
    style query_process fill:#d8f3dc,stroke:#40916c,stroke-width:1px
    style embedding_process fill:#ffe5d9,stroke:#9d0208,stroke-width:1px
    style import_process fill:#e5e5e5,stroke:#495057,stroke-width:1px
    style job_query fill:#ffedd8,stroke:#ca6702,stroke-width:1px
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Docker & Docker Compose v2.0+
- Node.js 18+
- Python 3.9+
- 8GB+ RAM

### å®‰è£…æ­¥éª¤

1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/rag-web-ui/rag-web-ui.git
cd rag-web-ui
```

2. é…ç½®ç¯å¢ƒå˜é‡
```bash
cp backend/.env.example backend/.env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å†™å¿…è¦çš„é…ç½®é¡¹ ï¼ˆè§ä¸‹æ–‡ï¼‰
```

3. å¯åŠ¨æœåŠ¡
```bash
docker-compose up -d
```

### éªŒè¯å®‰è£…

æœåŠ¡å¯åŠ¨åï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ï¼š

- ğŸŒ å‰ç«¯ç•Œé¢: http://localhost:3000
- ğŸ“š API æ–‡æ¡£: http://localhost:8000/redoc
- ğŸ’¾ MinIO æ§åˆ¶å°: http://localhost:9001

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ

- ğŸ **Python FastAPI**: é«˜æ€§èƒ½å¼‚æ­¥ Web æ¡†æ¶
- ğŸ—„ï¸ **MySQL + ChromaDB**: å…³ç³»å‹æ•°æ®åº“ + å‘é‡æ•°æ®åº“
- ğŸ“¦ **MinIO**: å¯¹è±¡å­˜å‚¨
- ğŸ”— **Langchain**: LLM åº”ç”¨å¼€å‘æ¡†æ¶
- ğŸ”’ **JWT + OAuth2**: èº«ä»½è®¤è¯

### å‰ç«¯æŠ€æœ¯æ ˆ

- âš›ï¸ **Next.js 14**: React åº”ç”¨æ¡†æ¶
- ğŸ“˜ **TypeScript**: ç±»å‹å®‰å…¨
- ğŸ¨ **Tailwind CSS**: åŸå­åŒ– CSS
- ğŸ¯ **Shadcn/UI**: é«˜è´¨é‡ç»„ä»¶åº“
- ğŸ¤– **Vercel AI SDK**: AI åŠŸèƒ½é›†æˆ

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

ç³»ç»Ÿåœ¨ä»¥ä¸‹æ–¹é¢è¿›è¡Œäº†æ€§èƒ½ä¼˜åŒ–ï¼š

- âš¡ï¸ æ–‡æ¡£å¢é‡å¤„ç†å’Œå¼‚æ­¥åˆ†å—
- ğŸ”„ æµå¼å“åº”å’Œå®æ—¶åé¦ˆ
- ğŸ“‘ å‘é‡æ•°æ®åº“æ€§èƒ½è°ƒä¼˜
- ğŸ¯ åˆ†å¸ƒå¼ä»»åŠ¡å¤„ç†

## ğŸ“– å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

```bash
cd backend
python -m venv venv
source venv/bin/activate  # Linux/macOS
pip install -r requirements.txt
uvicorn app.main:app --reload
```

### å‰ç«¯å¼€å‘

```bash
cd frontend
pnpm install
pnpm dev
```

### æ•°æ®åº“è¿ç§»

```bash
cd backend
alembic revision --autogenerate -m "migration message"
alembic upgrade head
```

## ğŸ”§ é…ç½®è¯´æ˜

### æ ¸å¿ƒé…ç½®é¡¹

| é…ç½®é¡¹                      | è¯´æ˜                                                                | é»˜è®¤å€¼                | å¿…å¡« |
| --------------------------- | ------------------------------------------------------------------- | --------------------- | ---- |
| MYSQL_SERVER                | MySQL æœåŠ¡å™¨åœ°å€                                                    | localhost             | âœ…    |
| MYSQL_USER                  | MySQL ç”¨æˆ·å                                                        | postgres              | âœ…    |
| MYSQL_PASSWORD              | MySQL å¯†ç                                                           | postgres              | âœ…    |
| MYSQL_DATABASE              | MySQL æ•°æ®åº“å                                                      | ragwebui              | âœ…    |
| SECRET_KEY                  | JWT åŠ å¯†å¯†é’¥                                                        | -                     | âœ…    |
| ACCESS_TOKEN_EXPIRE_MINUTES | JWT token è¿‡æœŸæ—¶é—´(åˆ†é’Ÿ)                                            | 30                    | âœ…    |
| CHROMA_DB_HOST              | ChromaDB æœåŠ¡å™¨åœ°å€                                                 | localhost             | âœ…    |
| CHROMA_DB_PORT              | ChromaDB ç«¯å£                                                       | 8001                  | âœ…    |
| OPENAI_API_KEY              | OpenAI API å¯†é’¥ ï¼ˆDeepSeek å…¼å®¹ï¼‰                                   | -                     | âœ…    |
| OPENAI_API_BASE             | OpenAI API ä»£ç† URL ï¼ˆDeepSeek å…¼å®¹ï¼š https://api.deepseek.com/v1ï¼‰ | -                     | âŒ    |
| OPENAI_MODEL                | OpenAI æ¨¡å‹åç§°                                                     | gpt-4                 | âœ…    |
| MINIO_ENDPOINT              | MinIO æœåŠ¡å™¨åœ°å€                                                    | localhost:9000        | âœ…    |
| MINIO_ACCESS_KEY            | MinIO è®¿é—®å¯†é’¥                                                      | minioadmin            | âœ…    |
| MINIO_SECRET_KEY            | MinIO å¯†é’¥                                                          | minioadmin            | âœ…    |
| MINIO_BUCKET_NAME           | MinIO å­˜å‚¨æ¡¶åç§°                                                    | documents             | âœ…    |
| VECTOR_STORE_TYPE           | å‘é‡å­˜å‚¨ç±»å‹                                                        | chroma                | âœ…    |
| VECTOR_STORE_URL            | Qdrant å‘é‡å­˜å‚¨ URL                                                 | http://localhost:6333 | âŒ    |
| VECTOR_STORE_PREFER_GRPC    | Qdrant ä¼˜å…ˆä½¿ç”¨ gRPC è¿æ¥                                           | true                  | âŒ    |

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬éå¸¸æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ”¹åŠ¨ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª [Python PEP 8](https://pep8.org/) ä»£ç è§„èŒƒ
- éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) æäº¤è§„èŒƒ


### ğŸš§ Roadmap

- [x] Knowledge Base API Integration
- [ ] Workflow By Natural Language
- [ ] å¤šè·¯å¬å›
- [ ] æ”¯æŒå¤šæ¨¡å‹
- [ ] æ”¯æŒå¤šå‘é‡æ•°æ®åº“

## è¡¥å……

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ äº¤æµ RAG ï¼Œè¯·å‹¿ç”¨äºå•†ä¸šç”¨é€”ï¼Œä¸å…·å¤‡åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„æ¡ä»¶ï¼Œè¿˜åœ¨æŒç»­å¼€å‘ä¸­ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache-2.0 è®¸å¯è¯](LICENSE)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [FastAPI](https://fastapi.tiangolo.com/)
- [Langchain](https://python.langchain.com/)
- [Next.js](https://nextjs.org/)
- [ChromaDB](https://www.trychroma.com/)

---

<div align="center">
  å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™å®ƒä¸€ä¸ª â­ï¸
</div> 
